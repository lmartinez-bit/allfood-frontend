<!-- Product-->
<article class="product wow fadeInLeft" data-wow-delay=".15s">
  <div class="product-figure"><img [src]="producto.proImgUrl" alt="" width="161" height="162"/>
  </div>
  <div class="product-rating">
    <span class="mdi mdi-star"></span>
    <span class="mdi mdi-star"></span>
    <span class="mdi mdi-star"></span>
    <span class="mdi mdi-star"></span>
    <span class="mdi mdi-star"></span>
  </div>
  <h6 class="product-title">{{ producto.proNombre }}</h6>
  <div class="product-price-wrap">
    <!-- <ng-container *ngIf="product.isOnSale">
      <div class="product-price product-price-old">S/. {{ product.salePrice }}</div>
    </ng-container> -->
    <div class="product-price">S/. {{ producto.proPrecio }}</div>
  </div>
  <div class="product-button">
    <div class="button-wrap"><a class="button button-xs button-primary button-winona" href="">Añadir</a></div>
    <div class="button-wrap"><a class="button button-xs button-secondary button-winona" href="#">Ver producto</a></div>
    <div class="button-wrap"><button type="button" class="button button-xs button-secondary button-winona" data-toggle="modal" data-target="#exampleModalXl">Personalizar</button></div>
  </div>
  <!-- <ng-container *ngIf="product.isOnSale">
    <span class="product-badge product-badge-sale">Oferta</span>
  </ng-container>
  <ng-container *ngIf="product.isNew">
    <span class="product-badge product-badge-new">Nuevo</span>
  </ng-container> -->
</article>

<div class="modal fade" id="exampleModalXl" tabindex="-1" aria-labelledby="exampleModalXlLabel" style="display: none; z-index: 99999 !important;" aria-hidden="true">
  <div class="modal-dialog modal-xl">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title h4" id="exampleModalXlLabel">Personaliza tu Plato</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">×</span>
              </button>
          </div>
          <div class="modal-body">
              <div id="stepper1" class="bs-stepper">
                  <div class="bs-stepper-header">
                    <div class="step" data-target="#test-l-1">
                      <button class="step-trigger">
                        <span class="bs-stepper-circle">1</span>
                        <span class="bs-stepper-label">Ingredientes Adicionales</span>
                      </button>
                    </div>
                    <div class="line"></div>
                    <div class="step" data-target="#test-l-2">
                      <button class="step-trigger">
                        <span class="bs-stepper-circle">2</span>
                        <span class="bs-stepper-label">Porciones Extra</span>
                      </button>
                    </div>
                    <div class="line"></div>
                    <div class="step" data-target="#test-l-3">
                      <button class="step-trigger">
                        <span class="bs-stepper-circle">3</span>
                        <span class="bs-stepper-label">Preferencias</span>
                      </button>
                    </div>
                  </div>
                  <div class="bs-stepper-content">
                    <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">
                      <div id="test-l-1" class="content">
                        <div class="form-group">

                          <ng-container *ngFor="let ingrediente of producto.adicionales">
                            <div class="form-check form-check-inline" *ngIf="ingrediente.adiCategoria == 'ingrediente'">
                              <input class="form-check-input" type="checkbox" [id]="ingrediente.adiId" ngModel name="ingrediente" [value]="ingrediente.adiId" (change)="onIngredienteChanged($event)">
                              <label class="form-check-label" [for]="ingrediente.adiId">{{ ingrediente.adiNombre }} (S/. {{ ingrediente.adiPrecio }})</label>
                            </div>
                          </ng-container>

                        </div>
                        <button type="button" (click)="next()" class="btn btn-primary mt-5">Siguiente</button>
                      </div>
                      <div id="test-l-2" class="content">

                        <div class="container mt-5">
                          <div class="row">
                            <ng-container *ngFor="let porcion of producto.adicionales">
                              <div class="col-md-2" *ngIf="porcion.adiCategoria == 'porcion'">
                                <app-porcion-card [porcion]="porcion" (porcionChanged)="onPorcionChanged($event)"></app-porcion-card>
                              </div>
                            </ng-container>
                          </div>
                        </div>
                        <button type="button" (click)="next()" class="btn btn-primary mt-5">Siguiente</button>
                      </div>
                      <div id="test-l-3" class="content">

                          <label for="exampleFormControlTextarea1">Indiquenos por favor las preferencias que desea para el plato</label>
                          <textarea class="form-control mt-3" id="exampleFormControlTextarea1" rows="3" [(ngModel)]="preferencias" name="preferencias"></textarea>

                          <div class="text-right mt-5">
                              <span class="d-block">Costo Total: S/.10</span>
                              <div class="button-wrap"><button type="submit" class="button button-xs button-primary button-winona">Agregar al carrito</button></div>
                          </div>

                      </div>
                    </form>
                  </div>
              </div>
          </div>
          <div class="modal-footer d-none">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" id="closeButton">Cerrar</button>
          </div>
      </div>
  </div>
</div>
